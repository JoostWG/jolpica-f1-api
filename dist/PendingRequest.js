"use strict";var a=Object.defineProperty;var n=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var f=(s,e)=>{for(var t in e)a(s,t,{get:e[t],enumerable:!0})},l=(s,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of p(e))!c.call(s,i)&&i!==t&&a(s,i,{get:()=>e[i],enumerable:!(r=n(e,i))||r.enumerable});return s};var o=s=>l(a({},"__esModule",{value:!0}),s);var m={};f(m,{PendingRequest:()=>u});module.exports=o(m);var u=class{constructor(e,t,r,i){this.api=e;this.resource=t;this.options=r;this.transform=i}async get(e){let t=await this.api.get(this.getPath(`/${this.resource}`,this.options),e);return{meta:{limit:Number(t.MRData.limit),offset:Number(t.MRData.offset),total:Number(t.MRData.total)},data:this.transform(t.MRData)}}async getOne(e){let{data:t}=await this.get({limit:1,...e??{}});return t.length>0?t[0]:null}getPath(e,t){let r=[];return t.season&&(r.push(String(t.season)),t.round&&r.push(String(t.round))),t.circuit&&r.push("circuits",t.circuit),t.driver&&r.push("drivers",t.driver),t.team&&r.push("constructors",t.team),t.lap&&r.push("laps",String(t.lap)),t.pitStopNumber&&r.push("pitstops",String(t.pitStopNumber)),t.fastestRank&&r.push("fastest",String(t.fastestRank)),t.gridPosition&&r.push("grid",String(t.gridPosition)),t.finishPosition&&r.push("results",String(t.finishPosition)),t.status&&r.push("status",t.status),r.length===0?e:`/${r.join("/")}${e}`}};0&&(module.exports={PendingRequest});
