"use strict";var e=Object.defineProperty;var r=Object.getOwnPropertyDescriptor;var a=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var u=(s,i)=>{for(var t in i)e(s,t,{get:i[t],enumerable:!0})},d=(s,i,t,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let o of a(i))!h.call(s,o)&&o!==t&&e(s,o,{get:()=>i[o],enumerable:!(n=r(i,o))||n.enumerable});return s};var l=s=>d(e({},"__esModule",{value:!0}),s);var c={};u(c,{PendingRequest:()=>p});module.exports=l(c);var p=class{constructor(i,t,n,o,g){this.api=i;this.resource=t;this.options=n;this.transform=o;this.validator=g}get url(){return this.api.baseUrl+this.getPath()}async get(i){let t=this.validator.parse(await this.api.get(this.getPath(),i));return{meta:{limit:Number(t.MRData.limit),offset:Number(t.MRData.offset),total:Number(t.MRData.total)},data:this.transform(t.MRData)}}async getOne(i){let{data:t}=await this.get({limit:1,...i??{}});return t.length>0?t[0]:null}getPath(){let i=`/${this.resource}`,t=[];return this.options.season&&(t.push(String(this.options.season)),this.options.round&&t.push(String(this.options.round))),this.options.circuit&&t.push("circuits",this.options.circuit),this.options.driver&&t.push("drivers",this.options.driver),this.options.team&&t.push("constructors",this.options.team),this.options.lap&&t.push("laps",String(this.options.lap)),this.options.pitStopNumber&&t.push("pitstops",String(this.options.pitStopNumber)),this.options.fastestRank&&t.push("fastest",String(this.options.fastestRank)),this.options.gridPosition&&t.push("grid",String(this.options.gridPosition)),this.options.finishPosition&&t.push("results",String(this.options.finishPosition)),this.options.status&&t.push("status",this.options.status),this.options.driverStanding&&t.push("driverstandings",String(this.options.driverStanding)),this.options.qualifying&&t.push("qualifying",String(this.options.qualifying)),this.options.teamStanding&&t.push("constructorstandings",String(this.options.teamStanding)),t.length===0?i:`/${t.join("/")}${i}`}};0&&(module.exports={PendingRequest});
