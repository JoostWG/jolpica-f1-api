"use strict";var p=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var d=(e,i)=>{for(var t in i)p(e,t,{get:i[t],enumerable:!0})},h=(e,i,t,l)=>{if(i&&typeof i=="object"||typeof i=="function")for(let o of m(i))!y.call(e,o)&&o!==t&&p(e,o,{get:()=>i[o],enumerable:!(l=a(i,o))||l.enumerable});return e};var b=e=>h(p({},"__esModule",{value:!0}),e);var f={};d(f,{Race:()=>c});module.exports=b(f);var n=class{constructor(i){this.api=i}};var s=class extends n{constructor(i,t){super(t),this.latitude=Number(i.lat),this.longitude=Number(i.long),this.locality=i.locality,this.country=i.country}};var u=class extends n{constructor(i,t){super(t),this.id=i.circuitId,this.wikiUrl=i.url,this.name=i.circuitName,this.location=new s(i.Location,this.api)}};var r=class extends n{constructor(i,t){super(t),this.date=i.date??null,this.time=i.time??null}};var c=class extends n{constructor(i,t){super(t),this.season=Number(i.season),this.round=Number(i.round),this.wikiUrl=i.url??null,this.name=i.raceName,this.circuit=new u(i.Circuit,this.api),this.date=i.date,this.time=i.time??null,this.firstPractice=i.FirstPractice!==void 0?new r(i.FirstPractice,this.api):null,this.secondPractice=i.SecondPractice!==void 0?new r(i.SecondPractice,this.api):null,this.thirdPractice=i.ThirdPractice!==void 0?new r(i.ThirdPractice,this.api):null,this.qualifying=i.Qualifying!==void 0?new r(i.Qualifying,this.api):null,this.sprint=i.Sprint!==void 0?new r(i.Sprint,this.api):null,this.sprintQualifying=i.SprintQualifying!==void 0?new r(i.SprintQualifying,this.api):null,this.sprintShootout=i.SprintShootout!==void 0?new r(i.SprintShootout,this.api):null}get dateTime(){return new Date(this.time!==null?`${this.date}T${this.time}`:this.date)}async calculateCircuitLength(){let{data:i}=await this.results().get({limit:100}),t=i.map(l=>l.calculateCircuitLength()).filter(l=>l!==null);return t.length===0?null:t.reduce((l,o)=>l+o,0)/t.length}results(i){return this.api.results(this.getOptions(i))}getOptions(i){return{season:this.season,round:this.round,...i}}};0&&(module.exports={Race});
