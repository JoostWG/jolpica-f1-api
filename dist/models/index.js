"use strict";var f=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var L=Object.prototype.hasOwnProperty;var q=(r,i)=>{for(var t in i)f(r,t,{get:i[t],enumerable:!0})},C=(r,i,t,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let p of P(i))!L.call(r,p)&&p!==t&&f(r,p,{get:()=>i[p],enumerable:!(n=N(i,p))||n.enumerable});return r};var M=r=>C(f({},"__esModule",{value:!0}),r);var F={};q(F,{AverageSpeed:()=>c,Circuit:()=>b,Driver:()=>l,DriverStanding:()=>g,FastestLap:()=>m,FastestLapTime:()=>y,FinishingTime:()=>a,Lap:()=>A,Location:()=>d,Model:()=>e,PitStop:()=>D,QualifyingResult:()=>x,Race:()=>o,Result:()=>R,Season:()=>T,SessionDateTime:()=>u,SprintResult:()=>S,Status:()=>v,Team:()=>s,TeamStanding:()=>O,Timing:()=>h});module.exports=M(F);var e=class{constructor(i){this.api=i}};var c=class extends e{constructor(i,t){super(t),this.units=i.units,this.speed=Number(i.speed)}get kph(){if(this.units==="kph")return this.speed;throw new Error("Invalid speed unit")}get mph(){return this.kph*.621371192}};var d=class extends e{constructor(i,t){super(t),this.latitude=Number(i.lat),this.longitude=Number(i.long),this.locality=i.locality,this.country=i.country}};var b=class extends e{constructor(i,t){super(t),this.id=i.circuitId,this.wikiUrl=i.url,this.name=i.circuitName,this.location=new d(i.Location,this.api)}};var l=class extends e{constructor(i,t){super(t),this.id=i.driverId,this.firstName=i.givenName,this.lastName=i.familyName,this.dateOfBirth=i.dateOfBirth!==void 0?new Date(i.dateOfBirth):null,this.nationality=i.nationality??null,this.number=i.permanentNumber!==void 0?Number(i.permanentNumber):null,this.code=i.code??null,this.wikiUrl=i.url??null}get name(){return`${this.firstName} ${this.lastName}`}get age(){return this.ageAt(new Date)}ageAt(i){if(this.dateOfBirth===null)return null;let t=i.getFullYear()-this.dateOfBirth.getFullYear();return this.dateOfBirth.getMonth()>i.getMonth()||this.dateOfBirth.getMonth()===i.getMonth()&&this.dateOfBirth.getDate()>i.getDate()?t-1:t}circuits(i){return this.api.circuits(this.getOptions(i))}driverStandings(i){return this.api.driverStandings(this.getOptions(i))}laps(i){return this.api.laps(this.getOptions(i))}pitStops(i){return this.api.pitStops(this.getOptions(i))}qualifyingResults(i){return this.api.qualifyingResults(this.getOptions(i))}races(i){return this.api.races(this.getOptions(i))}results(i){return this.api.results(this.getOptions(i))}seasons(i){return this.api.seasons(this.getOptions(i))}sprintResults(i){return this.api.sprintResults(this.getOptions(i))}statuses(i){return this.api.statuses(this.getOptions(i))}teams(i){return this.api.teams(this.getOptions(i))}getOptions(i){return{driver:this.id,...i}}};var s=class extends e{constructor(i,t){super(t),this.id=i.constructorId??null,this.wikiUrl=i.url??null,this.name=i.name,this.nationality=i.nationality??null}};var g=class extends e{constructor(i,t,n,p){super(p),this.season=Number(t),this.round=Number(n),this.position=i.position!==void 0?Number(i.position):null,this.positionText=i.positionText,this.points=Number(i.points),this.wins=Number(i.wins),this.driver=new l(i.Driver,this.api),this.teams=i.Constructors.map(w=>new s(w,this.api))}};var y=class extends e{constructor(i,t){super(t),this.time=i.time}};var m=class extends e{constructor(i,t){super(t),this.rank=Number(i.rank),this.lap=Number(i.lap),this.time=new y(i.Time,this.api),this.averageSpeed=i.AverageSpeed!==void 0?new c(i.AverageSpeed,this.api):null}};var a=class extends e{constructor(i,t){super(t),this.milliseconds=Number(i.millis),this.time=i.time}};var u=class extends e{constructor(i,t){super(t),this.date=i.date??null,this.time=i.time??null}};var o=class extends e{constructor(i,t){super(t),this.season=Number(i.season),this.round=Number(i.round),this.wikiUrl=i.url??null,this.name=i.raceName,this.circuit=new b(i.Circuit,this.api),this.date=i.date,this.time=i.time??null,this.firstPractice=i.FirstPractice!==void 0?new u(i.FirstPractice,this.api):null,this.secondPractice=i.SecondPractice!==void 0?new u(i.SecondPractice,this.api):null,this.thirdPractice=i.ThirdPractice!==void 0?new u(i.ThirdPractice,this.api):null,this.qualifying=i.Qualifying!==void 0?new u(i.Qualifying,this.api):null,this.sprint=i.Sprint!==void 0?new u(i.Sprint,this.api):null,this.sprintQualifying=i.SprintQualifying!==void 0?new u(i.SprintQualifying,this.api):null,this.sprintShootout=i.SprintShootout!==void 0?new u(i.SprintShootout,this.api):null}get dateTime(){return new Date(this.time!==null?`${this.date}T${this.time}`:this.date)}async calculateCircuitLength(){let{data:i}=await this.results().get({limit:100}),t=i.map(n=>n.calculateCircuitLength()).filter(n=>n!==null);return t.length===0?null:t.reduce((n,p)=>n+p,0)/t.length}results(i){return this.api.results(this.getOptions(i))}getOptions(i){return{season:this.season,round:this.round,...i}}};var h=class extends e{constructor(i,t){super(t),this.driverId=i.driverId,this.position=Number(i.position),this.time=i.time}};var A=class extends e{constructor(i,t,n){super(n),this.number=Number(i.number),this.timings=i.Timings.map(p=>new h(p,this.api)),this.race=new o(t,this.api)}};var D=class extends e{constructor(i,t,n){super(n),this.driverId=i.driverId,this.lap=i.lap!==void 0?Number(i.lap):null,this.stop=i.stop!==void 0?Number(i.stop):null,this.time=i.time??null,this.duration=i.duration!==void 0?Number(i.duration):null,this.race=new o(t,this.api)}};var x=class extends e{constructor(i,t,n){super(n),this.number=Number(i.number),this.position=i.position!==void 0?Number(i.position):null,this.driver=new l(i.Driver,this.api),this.team=new s(i.Constructor,this.api),this.q1=i.Q1??null,this.q2=i.Q2??null,this.q3=i.Q3??null,this.race=new o(t,this.api)}};var R=class extends e{constructor(i,t,n){super(n),this.number=Number(i.number),this.position=i.position,this.positionText=i.positionText,this.points=Number(i.points),this.driver=new l(i.Driver,this.api),this.team=i.Constructor!==void 0?new s(i.Constructor,this.api):null,this.grid=i.grid!==void 0?Number(i.grid):null,this.laps=i.laps!==void 0?Number(i.laps):null,this.status=i.status??null,this.fastestLap=i.FastestLap!==void 0?new m(i.FastestLap,this.api):null,this.finishingTime=i.Time!==void 0?new a(i.Time,this.api):null,this.race=new o(t,this.api)}get driverAge(){return this.driver.ageAt(this.race.dateTime)}calculateCircuitLength(){if(!this.fastestLap?.averageSpeed)return null;let i=this.fastestLap.time.time.match(/(?<minutes>\d+):(?<seconds>\d+.\d+)/u);return i?.groups?(Number(i.groups.minutes)/60+Number(i.groups.seconds)/3600)*this.fastestLap.averageSpeed.kph*1e3:null}};var T=class extends e{constructor(i,t){super(t),this.year=Number(i.season),this.wikiUrl=i.url}};var S=class extends e{constructor(i,t,n){super(n),this.number=Number(i.number),this.position=i.position,this.positionText=i.positionText,this.points=Number(i.points),this.driver=new l(i.Driver,this.api),this.team=i.Constructor!==void 0?new s(i.Constructor,this.api):null,this.grid=i.grid!==void 0?Number(i.grid):null,this.laps=i.laps!==void 0?Number(i.laps):null,this.status=i.status??null,this.finishingTime=i.Time!==void 0?new a(i.Time,this.api):null,this.fastestLap=i.FastestLap!==void 0?new m(i.FastestLap,this.api):null,this.race=new o(t,this.api)}};var v=class extends e{constructor(i,t){super(t),this.id=i.statusId,this.count=Number(i.count),this.name=i.status}};var O=class extends e{constructor(i,t,n,p){super(p),this.season=Number(t),this.round=Number(n),this.position=i.position??null,this.positionText=i.positionText,this.points=Number(i.points),this.wins=Number(i.wins),this.team=new s(i.Constructor,this.api)}};0&&(module.exports={AverageSpeed,Circuit,Driver,DriverStanding,FastestLap,FastestLapTime,FinishingTime,Lap,Location,Model,PitStop,QualifyingResult,Race,Result,Season,SessionDateTime,SprintResult,Status,Team,TeamStanding,Timing});
